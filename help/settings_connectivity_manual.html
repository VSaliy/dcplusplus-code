<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link type="text/css" rel="stylesheet" href="office11.css"/>
<link type="text/css" rel="stylesheet" href="style.css"/>
</head>
<body>
	<h1>Connectivity<br/>
		Manual configuration
	</h1>
<h2 id="connection">Incoming connection settings</h2>
<p>
Use these settings to manually configure DC++ for incoming connections. If unsure, you may want to follow the <a href="get_started.html#connection">connection setup part</a> of the <a href="get_started.html">Get Started guide</a>.
</p>
<p style="margin-left: 40px;">Before setting up the following settings, make sure you are familiar
with the meaning of each connection mode and with the <a href="faq_whyactive.html">differences
	between active and passive mode and their effect on your ability to search and download from
	users</a> of the DC network.</p>
  <h3 style="margin-left: 40px;"><u>Active connection modes</u></h3>
  <p style="margin-left: 40px;">Active mode is highly preferred in the DC network. For more
  information, refer to the <a href="faq_activemode.html">Active mode FAQ</a>.</p>
<dl style="margin-left: 40px;">
  <dt>My computer is directly connected to the Internet (no router)</dt>
  <dd cshelp="IDH_SETTINGS_CONNECTIVITY_DIRECT">Select this mode if your computer is connected directly to the
internet or you plan to connect to hubs in your local network only. <b>Do <u>not</u> select this mode if 
you have a router or any external firewall.</b> 
If your computer is not behind a router all you have to do is to choose this option and usually 
you don't need to alter anything more in the connection settings. However, if you have a software firewall
installed or built-in Windows firewall enabled, you may need further configuration in the firewall 
to allow Internet access for DC++.</dd>
  <dt>Let DC++ configure my router (NAT-PMP / UPnP)</dt>
  <dd cshelp="IDH_SETTINGS_CONNECTIVITY_FIREWALL_UPNP">
  Select this mode if you are behind a router that supports standard port forwarding methods such
  as NAT-PMP or UPnP. Most routers do support them but they often have to be explicitly enabled
  from the router's configuration page. Thanks to automatic port mapping methods, DC++ is able to
  open the ports it needs and obtain your external IP address as well. For more information, see
  <a href="faq_mapping.html">What is NAT-PMP / UPnP?</a>.
  </dd>
  <dt>Manual port forwarding (I have configured my router by myself)</dt>
  <dd cshelp="IDH_SETTINGS_CONNECTIVITY_FIREWALL_NAT">Select this mode if you are behind a router and
  have set up the TCP, UDP and TLS port forwarding by yourself. You may need to specify the
  external IP address of your router in the field below as well (although in most cases, hubs you
  connect to - especially ADC ones - will fill it on your behalf). Use this mode only if the
  previous ones are not options for you. For more information, refer to the
  <a href="faq_activemode.html">Active mode guide</a>.</dd>
</dl>
  <h3 style="margin-left: 40px;"><u>Passive connection mode</u></h3> 
<dl style="margin-left: 40px;">
  <dt>Passive mode (last resort - has serious limitations)</dt>
  <dd cshelp="IDH_SETTINGS_CONNECTIVITY_FIREWALL_PASSIVE">
  Select this mode if none of the previous Active mode options apply. In this mode, DC++ will not
  try to listen for inbound connections; it will only initiate outbound ones. This mode carries
  some serious limitations:
  <ul style="margin-left: 80px;">
    <li>only 5 results per user will be returned in response to searches.</li>
    <li>you may not be able to download / receive search results from passive users.</li>
    <li>you may not be able to fully enjoy certain hubs (because of their regulations).</li>
</ul>
Note that DC++ tries NAT Traversal on ADC hubs to allow passive users to connect with each other.
</dd>
</dl>
<h3 style="margin-left: 40px;"><u>Connection mode options</u></h3>
<dl style="margin-left: 40px;">
<dt>Ports</dt>
<dd><p>These settings specify the communication ports DC++ listens on for incoming connections.
Generally you don't need to add specific ports unless you configured your port forwarding settings
manually. If port settings are left blank, DC++ will let the operating system generate a random
port number. Port values are ignored when <a href="autoconn">Automatic connectivity setup</a> is
enabled.</p>
<dl>
	<dt>Transfer port (TCP)</dt>
	<dd cshelp="IDH_SETTINGS_CONNECTIVITY_PORT_TCP">This is the port that DC++ listens on for
	incoming connections from other peers. If this port is incorrectly forwarded, you won't be able
	to download.</dd>
	<dt>Encrypted transfer port (TCP)</dt>
	<dd cshelp="IDH_SETTINGS_CONNECTIVITY_PORT_TLS">This is the port that DC++ listens on for
	incoming <a href="settings_certs.html">TLS (encrypted)</a> connections from other peers. If
	this port is incorrectly forwarded, you won't be able to search nor to download on encrypted
	ADC hubs. Note that <b>this port value should be different than the ones used for transfers
		(TCP) and searches (UDP).</b></dd>
	<dt>Search port (UDP)</dt>
	<dd cshelp="IDH_SETTINGS_CONNECTIVITY_PORT_UDP">This is the port that DC++ listens on for
	incoming search results. If this port is incorrectly forwarded, you won't be able to receive
	search results.</dd>
</dl>
</dd>
<dt>External / WAN IP</dt>
<dd cshelp="IDH_SETTINGS_CONNECTIVITY_EXTERNAL_IP">
This field specifies your external IP address. <i>If you are unsure and use any other connection mode
	option than 'Manual port forwarding (I have configured my router by myself)', then leave this
	field blank.</i> If your computer is directly connected to the internet, your internal and
external IP will be the same and can easily be automatically detected. Fill this box <b>only</b> if
you need to override said auto-detection. Ordinarily, only users behind a router (NAT
device) need to fill in this box. If you put a DNS name here, DC++ will try to resolve it into an
IP address before use. To determine your external IP address, follow the
<a href="get_started.html#connection">connection setup part</a> of the
<a href="get_started.html">Get Started guide</a> or the detailed
<a href="faq_activemode.html">Active mode FAQ</a>. The IP address set here will be erased if the
<a href="autoconn">Automatic connectivity setup</a> feature is in use.</dd>
  <dt id="noipoverride">Don't allow hubs/NAT-PMP/UPnP to override</dt>
  <dd cshelp="IDH_SETTINGS_CONNECTIVITY_OVERRIDE">Enable this to always use the IP address in "External
  / WAN IP", and not let either NAT-PMP, UPnP nor connected hubs change it. If unsure, leave
  this setting disabled. This option will be cleared out if the
  <a href="autoconn">Automatic connectivity setup</a> feature is in use.</dd>
</dl>

<h2>Preferred port mapping interface</h2>
<p cshelp="IDH_SETTINGS_CONNECTIVITY_MAPPER">
DC++ has several interfaces available it can use to try to automatically map the ports it requires
on the router:
<ul>
<li>NAT-PMP: A lightweight protocol that is not widely used by generic routers; but open-source
	firmwares generally implement it.</li>
<li>MiniUPnP: An open-source UPnP library.</li>
<li>Windows UPnP: Use Windows discovery services. Note that the DC++ implementation of Windows UPnP
	is partial and prone to random failures. MiniUPnP is recommended instead.</li>
</ul>
The interface selected here will be tried first; other available interfaces will then be tried if
the preferred port mapping interface were to fail.
</p>

<h2>Bind address</h2>
<p cshelp="IDH_SETTINGS_CONNECTIVITY_BIND_ADDRESS">
This setting allows binding DC++ network connections to a specific IP address, rather than relying
on the operating system to find the best adapter. If binding fails, it will do so silently and
INADDR_ANY will be used instead. This value is ignored when
<a href="settings_connectivity.html#autoconn">Automatic connectivity setup</a> is enabled.
</p>
</body>
</html>
