<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link type="text/css" rel="stylesheet" href="office11.css"/>
<link type="text/css" rel="stylesheet" href="style.css"/>
</head>
<body>
<h1>Connection settings</h1>
<h2 id="autoconn">Automatic connection type detection</h2>
<p>
Your incoming connection type must be correctly chosen for searches and downloads to work. In most
cases, DC++ is able to detect the best connection type as long as the automatic detection option is
enabled (recommended). Otherwise, this page offers manual tweaking of connection settings.
</p>
<dl style="margin-left: 40px;">
  <dt>Enable automatic incoming connection type detection</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_AUTODETECT">
  Select this to let DC++ determine the best connection type on your behalf. This should work with
  the majority of network structures DC++ is generally used in. The success rate depends on
  operating system configuration and on the network topology.<br/>
  Note that when this option is active, <u>manual connection settings will be ignored</u>.
  <p>It is recommended this option be disabled and the connection be manually set up:
  	<ul>
  		<li>When there is more than one physical network device (eg. network cards, 3G USB modems) plugged in the computer (the bind address will have to be fiddled with).</li>
  		<li>In the presence of network tunneling, a <a href="http://en.wikipedia.org/wiki/Vpn" target="_blank" class="external">VPN</a> service or any other software that leads to virtual network devices.</li>
  		<li>When DC++ is only supposed to connect to local network hubs (eg. in a campus).</li>
  	</ul>
  </p></dd>
  <dt>Detect now</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_DETECT_NOW">With this button, you can force DC++ to (re)detect the best connection
   mode available to you. Details and result of the operation will be shown in the Detection log box below.</dd>
  <dt>Detection log</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_DETECTION_LOG">This box contains the log and result of the last connection type
  detection started by clicking the Detect now button. It contains the detection steps, possible error messages and shows
  why a certain connection mode was chosen. This information is helpful in case of errors or when the result
  is other than expected. Detection messages appear in the System log as well; descriptions of the various
  messages are available in the <a href="window_system_log.html">list of System log messages</a>.</dd>
</dl>
<h2 id="connection">Incoming connection settings</h2>
<p>
Use these settings to manually configure DC++ for incoming connections. If unsure, you may want to follow the <a href="get_started.html#connection">connection setup part</a> of the <a href="get_started.html">Get Started guide</a>.
You should disable Automatic connection type detection to make these settings manually configurable.
</p>
<p style="margin-left: 40px;">Before setting up the following settings, make sure you are familiar
with the meaning of each connection mode and with the <a href="faq_whyactive.html">differences
	between active and passive mode and their effect on your ability to search and download from
	users</a> of the DC network.</p>
  <h3 style="margin-left: 40px;"><u>Active connection modes</u></h3>
  <p style="margin-left: 40px;">Active mode is highly preferred in the DC network. For more
  information, refer to the <a href="faq_activemode.html">Active mode FAQ</a>.</p>
<dl style="margin-left: 40px;">
  <dt>My computer is directly connected to Internet (no router)</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_DIRECT">Select this mode if your computer is connected directly to the
internet or you plan to connect to hubs in your local network only. <b>Do <u>not</u> select this mode if 
you have a router or any external firewall.</b> 
If your computer is not behind a router all you have to do is to choose this option and usually 
you don't need to alter anything more in the connection settings. However, if you have a software firewall
installed or built-in Windows firewall enabled, you may need further configuration in the firewall 
to allow Internet access for DC++.</dd>
  <dt>Let DC++ configure my router (UPnP / NAT-PMP)</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_FIREWALL_UPNP">
  Select this mode if you are behind a router that supports standard port forwarding methods such
  as UPnP and NAT-PMP. Most routers do support UPnP but you may need to enable it in the router's
  configuration page. This way, DC++ will be able to automatically open the ports it needs and
  obtain your external IP address as well. For more information, refer to the
  <a href="faq_upnp.html">guide to configuring and troubleshooting UPnP</a>.
  </dd>
  <dt>Manual port forwarding (I have configured my router by myself)</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_FIREWALL_NAT">Select this mode if you are behind a router and
  have set up the TCP, UDP and TLS port forwarding by yourself. You may need to specify the
  external IP address of your router in the field below as well (although in most cases, hubs you
  connect to - especially ADC ones - will fill it on your behalf). Use this mode only if the
  previous ones are not options for you. For more information, refer to the
  <a href="faq_activemode.html">Active mode guide</a>.</dd>
</dl>
  <h3 style="margin-left: 40px;"><u>Passive connection mode</u></h3> 
<dl style="margin-left: 40px;">
  <dt>Passive mode (last resort - has serious limitations)</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_FIREWALL_PASSIVE">
  Select this mode if none of the previous Active mode options apply. In this mode, DC++ will not
  try to listen for inbound connections; it will only initiate outbound ones. This mode carries
  some serious limitations:
  <ul style="margin-left: 80px;">
    <li>only 5 results per user will be returned in response to searches.</li>
    <li>you may not be able to download / receive search results from passive users.</li>
    <li>you may not be able to fully enjoy certain hubs (because of their regulations).</li>
</ul>
Note that DC++ tries NAT Traversal on ADC hubs to allow passive users to connect with each other.
</dd>
</dl>
<h3 style="margin-left: 40px;"><u>Connection mode options</u></h3>
<dl style="margin-left: 40px;">
<dt>Ports</dt>
<dd><p>Here you can specify what communication ports should DC++ use to accept incoming connections. 
Generally you don't need to add specific ports unless you configured your port forwarding settings manually.
If the ports not set DC++ will try to assgin them automatically in various ways depending on what connection
mode used. So if you use any conncetion mode option other than 'Manual port forwarding (I have configured my router by myself)'
then its best to leave the port fields empty. If port settings are left blank, DC++ will use a random port between 1025 and 32000.
Port values will be ignored if <a href="autoconn">Automatic incoming connection type detection</a> is enabled.</p>
<dl>
  <dt>TCP</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_PORT_TCP">This is the port that DC++ listens on for incoming client
connections. If this port incorrectly forwarded you won't be able to download. <i>If you unsure and use any conncetion mode option <u>other 
than</u></i> 'Manual port forwarding (I have configured my router by myself)' <i>then leave this field blank.</i></dd>
  <dt>UDP</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_PORT_UDP">This is the port that DC++ listens on for incoming search
results. If this port incorrectly forwarded you won't be able to receive search results. <i>If you unsure and use any conncetion mode option <u>other than</u></i> 'Manual port forwarding (I have configured my router by myself)' <i>then leave this field blank.</i></dd>
  <dt>TLS</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_PORT_TLS">This is the port that DC++ listens on for <a href="settings_certs.html">TLS encrypted</a> connections.
  If this port incorrectly forwarded you won't be able to search and/or download on specific ADC hubs where secure connections required. <i>If you unsure and use any conncetion mode option <u>other than</u></i> 'Manual port forwarding (I have configured my router by myself)' <i>then leave this field blank.</i> However, if specified, <b>this port value should be different than the ones that used for TCP or UDP.</b></dd>
</dl>
</dd>
<dt>External / WAN IP</dt>
<dd cshelp="IDH_SETTINGS_NETWORK_EXTERNAL_IP">
This field specifies your external IP address. <i>If you are unsure and use any other connection mode
	option than 'Manual port forwarding (I have configured my router by myself)', then leave this
	field blank.</i> If your computer is directly connected to the internet, your internal and
external IP will be the same and can easily be automatically detected. Fill this box <b>only</b> if
you need to override said auto-detection. Ordinarily, only users behind a firewall/router (NAT
device) need to fill in this box. If you put a DNS name here, DC++ will try to resolve it into an
IP address before use. To know how to determine your external IP address, follow the
<a href="get_started.html#connection">connection setup part</a> of the
<a href="get_started.html">Get Started guide</a> or the detailed
<a href="faq_activemode.html">Active mode FAQ</a>. The IP address set here will be delted if the
<a href="autoconn">Automatic incoming connection type detection</a> setting is in use.</dd>
  <dt id="noipoverride">Don't allow hubs/UPnP/NAT-PMP to override</dt>
  <dd cshelp="IDH_SETTINGS_NETWORK_OVERRIDE">Enable this to always use the IP address in "External
  / WAN IP", and not let either UPnP nor NAT-PMP not connected hubs change it. If unsure, leave
  this setting disabled. This option will be cleared out if the
  <a href="autoconn"> Automatic incoming connection type detection</a> setting is in use.</dd>
</dl>
</body>
</html>
